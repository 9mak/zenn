---
title: "[Tips] VSCode起動速度を改善したい"
emoji: "⏱️"
type: "tech" # tech: 技術記事 / idea: アイデア記事
topics: ["vscode", "パフォーマンス改善", "開発環境"] # 記事に関連するトピックをここに入力
published: true
publication_name: "ap_com"
published_at: 2024-02-28 12:00
---

## 🌟 はじめに

おぐまです。

仕事用と私用のVScodeのプロファイルを分けていて、片方のVScodeの起動が遅いので気になったのと **ブログ書こう！** ってなった時のモチベーションにVScodeの起動がついてこれていない状況が悲しいので、VScodeの今の起動速度を確認する手順と起動速度を上げるための方法を共有します🌜

## ✅ まずはステータスチェック

VSCodeのパフォーマンスと起動速度を改善する前に、現状把握が必要です。

ここではVSCodeが
**・ どれだけの時間をかけて起動しているか**
**・ どの拡張機能やプロセスがその速度に影響を与えているか**
を確認する方法について説明します。

### 👀 起動速度をチェック

VScodeの起動速度をチェックする手順です。

1. VSCodeを開きます
2. コマンドパレット（`Ctrl+Shift+P` / `Cmd+Shift+P`）を開く
3. 以下のコマンドを検索 / 入力して実行します

```sh
Developer: Startup Performance
```

以下のようにレポートが表示されます。

![Developer_Startup1](/images/vscode-startup-speed-improvement/Developer_Startup_Performance1.png)
![Developer_Startup1](/images/vscode-startup-speed-improvement/Developer_Startup_Performance2.png)

これら以外のセクションもありますが、VSCodeの起動速度を改善する上でみておくべきは下記のセクションです。

セクション名 | 概要
--- | ---
System Info (システム情報) | 使用しているVSCodeのバージョン、OS、CPU、メモリ情報など、システムスペック
Performance Marks (パフォーマンスマーク) | VSCode起動に関わる各プロセスの開始から終了までの時間
Extension Activation Stats (拡張機能のアクティベーション統計) | 起動時に読み込まれる拡張機能ごとの読み込み時間やアクティベーション時間
Terminal Stats (ターミナル統計) | ターミナルのバックエンド取得や再接続などのプロセスにかかる時間

この中でも特に以下のセクションで起動時間改善で何をすればいいか見つけやすいと思います。

- Performance Marks
- Extension Activation Stats

例えば、`Performance Marks` - `start => app.isReady` - `Duration` の143(ms)は、アプリが起動して準備が完了するまでの時間です。
拡張機能によっては、起動時間を遅らせている可能性があるので `Extension Activation Stats` の `Load Code` , `Call Activate` , `Finish Activate`の時間を確認し、特に時間がかかっている拡張機能がないかチェックします。

:::message alert
この機能は、VSCodeが起動する際の詳細なタイムラインを出力してくれて、どのプロセスが起動時間に影響を与えているかわかるようにします。
**あとは単純に出力結果の見た目がかっこいいのでお試しあれ笑**
:::

### 👀 パフォーマンスの問題をチェック

1. VSCodeを開きます
2. コマンドパレット（`Ctrl+Shift+P` / `Cmd+Shift+P`）を開く
3. 以下のコマンドを検索 / 入力して実行します

```sh
Developer: Show Running Extensions
```

コマンドを実行すると以下のような画面が表示されます
![Developer_Show_Running_Extensions](/images/vscode-startup-speed-improvement/Developer_Show_Running_Extensions.png)

これは簡単で実行中の拡張機能一覧です。
Activationで読み込み速度が参照できるので重い拡張機能を見つけることができます。

:::message alert
リソースを大量に使用していたり、起動時間を遅らせている拡張機能を特定できるので使ってないけど重い拡張機能を見つけることができます
:::

## 📖 起動速度を向上させるTips

### 👉 最新のVSCodeのインストール

- VSCodeは定期的に更新されパフォーマンスの改善やバグ修正が含まれている
- 最新のバージョンを使用することで、これらを最適化できます
- 定期的にアップデートをチェックし、できる限り最新状態に保つようにする

:::message
上記より職場でバージョンが指定されているなど細かい制約がなければ最新バージョンにしておきましょう！
:::

### 👉 使用していない拡張機能の削除

- 不要な拡張機能は起動時間を遅らせる主な原因の一つ👿
- 定期的に拡張機能を見直して使用していないものは削除する

:::message
自分もいらないもの結構ありそうなので断捨離します。。
:::

### 👉 ワークスペースの最適化

#### 拡張機能

特定のワークスペースでプロジェクトに必要な拡張機能だけを有効にすれば起動速度の向上やエディターのパフォーマンスを上げることができます。

1. **拡張機能の管理**: VSCodeの拡張機能ビューを開き、無効にしたい拡張機能を見つける
2. **ワークスペースでの無効化**: 拡張機能の管理ギアアイコンをクリックし、「Disable (Workspace)」を選択します。これにより、現在のワークスペースでのみ拡張機能が無効になります
3. **再読み込みの実行**: 設定変更を適用するのに再読み込みを求められることがあるので指示に従ってください

:::message

- 特に大規模なプロジェクトや、特定の開発環境に最適化されたワークスペースを使用している場合に設定を考えてみるといいと思います
- 個人ならここまでしなくてもいいかも

:::

## 🎉 まとめ

VSCodeの起動速度改善は結構細かく突き詰めるといろんな対応方法がありますが、そもそも個人や中規模レベルであれば不要な拡張機能消すだけで十分速くなると思います。
自分で調べて対応して速攻で起動できるとやっぱり気持ちいいですね💆

お読みいただき、ありがとうございました！
他にもいいアイデアがあれば教えてください！
